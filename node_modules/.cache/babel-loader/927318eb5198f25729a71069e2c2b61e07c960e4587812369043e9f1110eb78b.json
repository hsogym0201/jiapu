{"ast":null,"code":"import { defineComponent, onMounted, onUnmounted } from \"vue\";\nimport * as echarts from \"echarts/core\";\nimport { use, registerMap } from \"echarts/core\";\nimport { MapChart } from \"echarts/charts\";\nimport { TooltipComponent } from \"echarts/components\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport chinaMap from \"@/assets/china.json\"; // 中国地图数据\n\nuse([CanvasRenderer, MapChart, TooltipComponent]);\nexport default defineComponent({\n  name: \"ChinaMap\",\n  emits: [\"province-clicked\"],\n  setup(props, {\n    emit\n  }) {\n    let chart = null;\n    onMounted(() => {\n      chart = echarts.init(document.getElementById(\"china-map\"));\n      registerMap(\"china\", chinaMap);\n      const option = {\n        tooltip: {\n          trigger: \"item\",\n          formatter: params => params.name\n        },\n        series: [{\n          name: \"中国地图\",\n          type: \"map\",\n          map: \"china\",\n          roam: true,\n          label: {\n            show: true,\n            color: \"#000\",\n            fontSize: 12\n          },\n          emphasis: {\n            label: {\n              show: true,\n              color: \"blue\"\n            },\n            itemStyle: {\n              areaColor: \"orange\",\n              borderColor: \"red\",\n              borderWidth: 2\n            }\n          },\n          itemStyle: {\n            borderColor: \"#444\",\n            borderWidth: 1,\n            areaColor: \"#f3f3f3\"\n          },\n          data: []\n        }]\n      };\n      chart.setOption(option);\n      chart.on(\"click\", params => {\n        if (params.componentType === \"series\") {\n          emit(\"province-clicked\", params.name);\n        }\n      });\n      window.addEventListener(\"resize\", () => {\n        if (chart) {\n          chart.resize();\n        }\n      });\n    });\n    onUnmounted(() => {\n      if (chart) {\n        chart.dispose();\n      }\n    });\n  }\n});","map":{"version":3,"names":["defineComponent","onMounted","onUnmounted","echarts","use","registerMap","MapChart","TooltipComponent","CanvasRenderer","chinaMap","name","emits","setup","props","emit","chart","init","document","getElementById","option","tooltip","trigger","formatter","params","series","type","map","roam","label","show","color","fontSize","emphasis","itemStyle","areaColor","borderColor","borderWidth","data","setOption","on","componentType","window","addEventListener","resize","dispose"],"sources":["D:\\project\\idea-project\\jiapudemo1\\jiapudemo1\\src\\components\\DiTu2.vue"],"sourcesContent":["<template>\r\n  <div id=\"china-map\" style=\"width: 100%; height: 500px;\"></div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, onMounted, onUnmounted } from \"vue\";\r\nimport * as echarts from \"echarts/core\";\r\nimport { use, registerMap } from \"echarts/core\";\r\nimport { MapChart } from \"echarts/charts\";\r\nimport { TooltipComponent } from \"echarts/components\";\r\nimport { CanvasRenderer } from \"echarts/renderers\";\r\nimport chinaMap from \"@/assets/china.json\"; // 中国地图数据\r\n\r\nuse([CanvasRenderer, MapChart, TooltipComponent]);\r\n\r\nexport default defineComponent({\r\n  name: \"ChinaMap\",\r\n  emits: [\"province-clicked\"],\r\n  setup(props, { emit }) {\r\n    let chart = null;\r\n\r\n    onMounted(() => {\r\n      chart = echarts.init(document.getElementById(\"china-map\"));\r\n      registerMap(\"china\", chinaMap);\r\n\r\n      const option = {\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          formatter: (params) => params.name,\r\n        },\r\n        series: [\r\n          {\r\n            name: \"中国地图\",\r\n            type: \"map\",\r\n            map: \"china\",\r\n            roam: true,\r\n            label: {\r\n              show: true,\r\n              color: \"#000\",\r\n              fontSize: 12,\r\n            },\r\n            emphasis: {\r\n              label: {\r\n                show: true,\r\n                color: \"blue\",\r\n              },\r\n              itemStyle: {\r\n                areaColor: \"orange\",\r\n                borderColor: \"red\",\r\n                borderWidth: 2,\r\n              },\r\n            },\r\n            itemStyle: {\r\n              borderColor: \"#444\",\r\n              borderWidth: 1,\r\n              areaColor: \"#f3f3f3\",\r\n            },\r\n            data: [],\r\n          },\r\n        ],\r\n      };\r\n\r\n      chart.setOption(option);\r\n\r\n      chart.on(\"click\", (params) => {\r\n        if (params.componentType === \"series\") {\r\n          emit(\"province-clicked\", params.name);\r\n        }\r\n      });\r\n\r\n      window.addEventListener(\"resize\", () => {\r\n        if (chart) {\r\n          chart.resize();\r\n        }\r\n      });\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      if (chart) {\r\n        chart.dispose();\r\n      }\r\n    });\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n/* 可根据需求调整地图容器样式 */\r\n</style>\r\n"],"mappings":"AAKA,SAASA,eAAe,EAAEC,SAAS,EAAEC,WAAU,QAAS,KAAK;AAC7D,OAAO,KAAKC,OAAM,MAAO,cAAc;AACvC,SAASC,GAAG,EAAEC,WAAU,QAAS,cAAc;AAC/C,SAASC,QAAO,QAAS,gBAAgB;AACzC,SAASC,gBAAe,QAAS,oBAAoB;AACrD,SAASC,cAAa,QAAS,mBAAmB;AAClD,OAAOC,QAAO,MAAO,qBAAqB,EAAE;;AAE5CL,GAAG,CAAC,CAACI,cAAc,EAAEF,QAAQ,EAAEC,gBAAgB,CAAC,CAAC;AAEjD,eAAeP,eAAe,CAAC;EAC7BU,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE,CAAC,kBAAkB,CAAC;EAC3BC,KAAKA,CAACC,KAAK,EAAE;IAAEC;EAAK,CAAC,EAAE;IACrB,IAAIC,KAAI,GAAI,IAAI;IAEhBd,SAAS,CAAC,MAAM;MACdc,KAAI,GAAIZ,OAAO,CAACa,IAAI,CAACC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAAC;MAC1Db,WAAW,CAAC,OAAO,EAAEI,QAAQ,CAAC;MAE9B,MAAMU,MAAK,GAAI;QACbC,OAAO,EAAE;UACPC,OAAO,EAAE,MAAM;UACfC,SAAS,EAAGC,MAAM,IAAKA,MAAM,CAACb;QAChC,CAAC;QACDc,MAAM,EAAE,CACN;UACEd,IAAI,EAAE,MAAM;UACZe,IAAI,EAAE,KAAK;UACXC,GAAG,EAAE,OAAO;UACZC,IAAI,EAAE,IAAI;UACVC,KAAK,EAAE;YACLC,IAAI,EAAE,IAAI;YACVC,KAAK,EAAE,MAAM;YACbC,QAAQ,EAAE;UACZ,CAAC;UACDC,QAAQ,EAAE;YACRJ,KAAK,EAAE;cACLC,IAAI,EAAE,IAAI;cACVC,KAAK,EAAE;YACT,CAAC;YACDG,SAAS,EAAE;cACTC,SAAS,EAAE,QAAQ;cACnBC,WAAW,EAAE,KAAK;cAClBC,WAAW,EAAE;YACf;UACF,CAAC;UACDH,SAAS,EAAE;YACTE,WAAW,EAAE,MAAM;YACnBC,WAAW,EAAE,CAAC;YACdF,SAAS,EAAE;UACb,CAAC;UACDG,IAAI,EAAE;QACR,CAAC;MAEL,CAAC;MAEDtB,KAAK,CAACuB,SAAS,CAACnB,MAAM,CAAC;MAEvBJ,KAAK,CAACwB,EAAE,CAAC,OAAO,EAAGhB,MAAM,IAAK;QAC5B,IAAIA,MAAM,CAACiB,aAAY,KAAM,QAAQ,EAAE;UACrC1B,IAAI,CAAC,kBAAkB,EAAES,MAAM,CAACb,IAAI,CAAC;QACvC;MACF,CAAC,CAAC;MAEF+B,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,MAAM;QACtC,IAAI3B,KAAK,EAAE;UACTA,KAAK,CAAC4B,MAAM,CAAC,CAAC;QAChB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFzC,WAAW,CAAC,MAAM;MAChB,IAAIa,KAAK,EAAE;QACTA,KAAK,CAAC6B,OAAO,CAAC,CAAC;MACjB;IACF,CAAC,CAAC;EACJ;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}